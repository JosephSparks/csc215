 AS V1.42 Beta [Bld 183] - Source File multiply.asm - Page 1 - 12/04/2020 09:35:07 PM


       1/       0 :                     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
       2/       0 :                     ;
       3/       0 :                     ; NAME:    multiply.asm
       4/       0 :                     ; AUTHOR:  Kevin Cole ("The Ubuntourist") <kevin.cole@novawebdevelopment.org>
       5/       0 :                     ; LASTMOD: 2020.10.06 (kjc)
       6/       0 :                     ;
       7/       0 :                     ; DESCRIPTION:
       8/       0 :                     ;
       9/       0 :                     ;     This is the assembly source code that produces the same machine
      10/       0 :                     ;     op codes as shown by the second example (multiply two numbers) in
      11/       0 :                     ;     the Altair 8800 Operator's Manual.
      12/       0 :                     ;
      13/       0 :                     ;     On a modern (as of 2020) Linux machine, install the
      14/       0 :                     ;     Macroassembler AS found at:
      15/       0 :                     ;
      16/       0 :                     ;         http://john.ccac.rwth-aachen.de:8000/as/
      17/       0 :                     ;
      18/       0 :                     ;     Then assemble this source file with the command:
      19/       0 :                     ;
      20/       0 :                     ;         asl -a -cpu 8080 -L -listradix 8 multiply.asm
      21/       0 :                     ;
      22/       0 :                     ;     to compare the generated list file (multiply.lst) to the octal
      23/       0 :                     ;     machine op codes provided in the manual.
      24/       0 :                     ;
      25/       0 :                     ;     However, if you have installed "most" -- you know you want it --
      26/       0 :                     ;     it is VERY instructive to instead assemble the source file with
      27/       0 :                     ;     the command:
      28/       0 :                     ;
      29/       0 :                     ;         asl -a -cpu 8080 -L -listradix 16 multiply.asm
      30/       0 :                     ;
      31/       0 :                     ;     This produces the same binary file (multiply.p) but changes the
      32/       0 :                     ;     format of the list file, displaying the machine op codes in
      33/       0 :                     ;     hexadecimal, rather than octal, and, together with the command:
      34/       0 :                     ;
      35/       0 :                     ;         most multiply.p
      36/       0 :                     ;
      37/       0 :                     ;      you can study the actual binary "executable" produced, and
      38/       0 :                     ;      "debug" it by finding the machine op codes (in hex) embedded
      39/       0 :                     ;      in the executable (by comparing it to multiply.lst).
      40/       0 :                     ;
      41/       0 :                     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
      42/       0 :                     
      43/       0 :                     ; Code segment:
      44/       0 :                     
      45/       0 :                     	ORG	0000h	; Set Program Counter to address 0
      46/       0 : 076 377             START:	MVI	A,0FFh	; Multiplier    (-1) to A   Register
      47/       2 : 026 177             	MVI	D,07Fh	; Multiplicand (127) to D,E Registers
      48/       4 : 036 000             	MVI	E,000h
      49/       6 : 041 000 000         	LXI	H,000h	; Clear H,L Registers to initialize Partial Product
      50/      11 : 006 010             	MVI	B,008h	; Iteration Count (8) to B Register
      51/      13 : 051                 LOOP:	DAD	H	; Shift Partial Product left into Carry (H&L)
      52/      14 : 027                 	RAL		; Rotate Multiplier Bit to Carry
      53/      15 : 322 023 000         	JNC	NEXT	; Test Multiplier at Carry
      54/      20 : 031                 	DAD	D	; Add Multiplicand to Partial Product (D&E)
      55/      21 :                     			;   if Carry =1
      56/      21 : 316 000             	ACI	000h	; (Add Carry Bit)
      57/      23 : 005                 NEXT:	DCR	B	; Decrement Iteration Counter
      58/      24 : 302 013 000         	JNZ	LOOP	; Check Iterations
      59/      27 : 042 100 000         	SHLD	TOTAL	; Store Answer in Locations 100,101
      60/      32 :                     ;	JMP	START	; Restart
 AS V1.42 Beta [Bld 183] - Source File multiply.asm - Page 2 - 12/04/2020 09:35:07 PM


      61/      32 : 166                 	HLT		; Halt and Catch Fire (HCF)
      62/      33 :                     
      63/      33 :                     ; Data segment (210 = 0xD2):
      64/      33 :                     
      65/     100 :                     	ORG	040h	; Set Program Counter to address 100 (octal)
      66/     100 :                     TOTAL:	DS	002h	; Reserve 2 bytes (1 word) of unintialized storage
      67/     102 :                     
      68/     102 :                     	END		; End
 AS V1.42 Beta [Bld 183] - Source File multiply.asm - Page 3 - 12/04/2020 09:35:07 PM


  Symbol Table (* = unused):
  --------------------------

*ARCHITECTURE :                                      "x86_64-unknown-linux" - |
*BIGENDIAN :                      0 - | *BRANCHEXT :                      0 - |
*CASESENSITIVE :                  0 - | *CONSTPI :        3.141592653589793 - |
*DATE :                "12/04/2020" - | *FALSE :                          0 - |
*FULLPMMU :                       1 - | *HAS64 :                          1 - |
*HASDSP :                         0 - | *HASFPU :                         0 - |
*HASPMMU :                        0 - | *INEXTMODE :                      0 - |
*INLWORDMODE :                    0 - | *INMAXMODE :                      0 - |
*INSRCMODE :                      0 - | *INSUPMODE :                      0 - |
*LISTON :                         1 - |  LOOP :                          13 C |
*MACEXP :                         7 - | *MOMCPU :                    100200 - |
*MOMCPUNAME :                "8080" - | *NESTMAX :                      400 - |
 NEXT :                          23 C | *PACKING :                        0 - |
*PADDING :                        1 - | *RELAXED :                        0 - |
*START :                          0 C | *TIME :               "09:35:07 PM" - |
 TOTAL :                        100 C | *TRUE :                           1 - |
*VERSION :                    12057 - | *Z80SYNTAX :                      0 - |

     33 symbols
     30 unused symbols

 AS V1.42 Beta [Bld 183] - Source File multiply.asm - Page 4 - 12/04/2020 09:35:07 PM


  Code Pages:
  ----------

STANDARD (0 changed characters)

1 code page

0.00 seconds assembly time

     69 lines source file
      2 passes
      0 errors
      0 warnings
